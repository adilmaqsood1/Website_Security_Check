"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("src_utils_pdfGenerator_ts",{

/***/ "./src/utils/pdfGenerator.ts":
/*!***********************************!*\
  !*** ./src/utils/pdfGenerator.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generatePDFReport: function() { return /* binding */ generatePDFReport; }\n/* harmony export */ });\n/* harmony import */ var jspdf__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jspdf */ \"./node_modules/jspdf/dist/jspdf.es.min.js\");\n/* harmony import */ var jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! jspdf-autotable */ \"./node_modules/jspdf-autotable/dist/jspdf.plugin.autotable.mjs\");\n\n\n/**\n * Generate a PDF report from scan data\n * @param scan The scan details\n * @param vulnerabilities List of vulnerabilities found in the scan\n * @returns Blob containing the PDF document\n */ const generatePDFReport = function(scan) {\n    let vulnerabilities = arguments.length > 1 && arguments[1] !== void 0 ? arguments[1] : [];\n    // Initialize PDF document\n    const doc = new jspdf__WEBPACK_IMPORTED_MODULE_0__.jsPDF();\n    const pageWidth = doc.internal.pageSize.getWidth();\n    // Add report title\n    doc.setFontSize(20);\n    doc.setTextColor(0, 51, 102); // Dark blue color\n    doc.text(\"Website Security Scan Report\", pageWidth / 2, 20, {\n        align: \"center\"\n    });\n    // Add scan information\n    doc.setFontSize(12);\n    doc.setTextColor(0, 0, 0); // Black color\n    doc.text(\"URL: \".concat(scan.url || scan.target || \"N/A\"), 14, 35);\n    doc.text(\"Scan Type: \".concat(scan.scan_type ? scan.scan_type.charAt(0).toUpperCase() + scan.scan_type.slice(1) : \"N/A\"), 14, 42);\n    doc.text(\"Status: \".concat(scan.status.charAt(0).toUpperCase() + scan.status.slice(1)), 14, 49);\n    doc.text(\"Date: \".concat(scan.created_at ? new Date(scan.created_at).toLocaleString() : \"N/A\"), 14, 56);\n    // Handle different time field names\n    const startTimeValue = scan.start_time || scan.started_at;\n    const endTimeValue = scan.end_time || scan.completed_at;\n    if (startTimeValue && endTimeValue) {\n        const startTime = new Date(startTimeValue);\n        const endTime = new Date(endTimeValue);\n        doc.text(\"Duration: \".concat(((endTime.getTime() - startTime.getTime()) / 1000 / 60).toFixed(2), \" minutes\"), 14, 63);\n    }\n    // Add summary section\n    doc.setFontSize(16);\n    doc.setTextColor(0, 51, 102); // Dark blue color\n    doc.text(\"Summary\", 14, 75);\n    if (scan.summary) {\n        doc.setFontSize(12);\n        doc.setTextColor(0, 0, 0); // Black color\n        doc.text(\"Total Vulnerabilities: \".concat(scan.summary.total_vulnerabilities), 14, 85);\n        // Add severity counts\n        if (scan.summary.severity_counts) {\n            const severityCounts = scan.summary.severity_counts;\n            // Create a table for severity counts\n            (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(doc, {\n                startY: 95,\n                head: [\n                    [\n                        \"Severity\",\n                        \"Count\"\n                    ]\n                ],\n                body: [\n                    [\n                        \"Critical\",\n                        severityCounts.critical.toString()\n                    ],\n                    [\n                        \"High\",\n                        severityCounts.high.toString()\n                    ],\n                    [\n                        \"Medium\",\n                        severityCounts.medium.toString()\n                    ],\n                    [\n                        \"Low\",\n                        severityCounts.low.toString()\n                    ],\n                    [\n                        \"Info\",\n                        severityCounts.info.toString()\n                    ]\n                ],\n                theme: \"striped\",\n                headStyles: {\n                    fillColor: [\n                        0,\n                        51,\n                        102\n                    ]\n                },\n                columnStyles: {\n                    0: {\n                        cellWidth: 40\n                    },\n                    1: {\n                        cellWidth: 40,\n                        halign: \"center\"\n                    }\n                }\n            });\n        }\n    }\n    // Add vulnerabilities section if there are any\n    if (vulnerabilities.length > 0) {\n        // Get the position after the last table or use default value\n        const currentY = doc.previousAutoTable ? doc.previousAutoTable.finalY + 15 : 150;\n        doc.setFontSize(16);\n        doc.setTextColor(0, 51, 102); // Dark blue color\n        doc.text(\"Vulnerabilities\", 14, currentY);\n        // Create a table for vulnerabilities\n        const tableRows = vulnerabilities.map((vuln)=>[\n                vuln.name,\n                vuln.severity.charAt(0).toUpperCase() + vuln.severity.slice(1),\n                vuln.location,\n                vuln.description.length > 50 ? vuln.description.substring(0, 50) + \"...\" : vuln.description\n            ]);\n        (0,jspdf_autotable__WEBPACK_IMPORTED_MODULE_1__[\"default\"])(doc, {\n            startY: currentY + 10,\n            head: [\n                [\n                    \"Name\",\n                    \"Severity\",\n                    \"Location\",\n                    \"Description\"\n                ]\n            ],\n            body: tableRows,\n            theme: \"striped\",\n            headStyles: {\n                fillColor: [\n                    0,\n                    51,\n                    102\n                ]\n            },\n            columnStyles: {\n                0: {\n                    cellWidth: 40\n                },\n                1: {\n                    cellWidth: 30\n                },\n                2: {\n                    cellWidth: 40\n                },\n                3: {\n                    cellWidth: \"auto\"\n                }\n            },\n            didDrawPage: (data)=>{\n                // Add page number at the bottom\n                const pageNumber = doc.getNumberOfPages();\n                doc.setFontSize(10);\n                doc.text(\"Page \".concat(pageNumber), pageWidth - 20, doc.internal.pageSize.getHeight() - 10);\n            }\n        });\n        // Add detailed vulnerability information\n        vulnerabilities.forEach((vuln, index)=>{\n            doc.addPage();\n            // Add page number\n            const pageNumber = doc.getNumberOfPages();\n            doc.setFontSize(10);\n            doc.text(\"Page \".concat(pageNumber), pageWidth - 20, doc.internal.pageSize.getHeight() - 10);\n            // Add vulnerability details\n            doc.setFontSize(16);\n            doc.setTextColor(0, 51, 102); // Dark blue color\n            doc.text(\"Vulnerability #\".concat(index + 1, \": \").concat(vuln.name), 14, 20);\n            doc.setFontSize(12);\n            doc.setTextColor(0, 0, 0); // Black color\n            doc.text(\"Severity: \".concat(vuln.severity.charAt(0).toUpperCase() + vuln.severity.slice(1)), 14, 30);\n            doc.text(\"Location: \".concat(vuln.location), 14, 37);\n            if (vuln.cwe_id) {\n                doc.text(\"CWE ID: \".concat(vuln.cwe_id), 14, 44);\n            }\n            if (vuln.cvss_score) {\n                doc.text(\"CVSS Score: \".concat(vuln.cvss_score), 14, 51);\n            }\n            // Description with word wrap\n            doc.setFontSize(12);\n            doc.text(\"Description:\", 14, 58);\n            const splitDescription = doc.splitTextToSize(vuln.description, pageWidth - 28);\n            doc.text(splitDescription, 14, 65);\n            let currentYPosition = 65 + splitDescription.length * 7;\n            // Evidence with word wrap if available\n            if (vuln.evidence) {\n                doc.text(\"Evidence:\", 14, currentYPosition);\n                const splitEvidence = doc.splitTextToSize(vuln.evidence, pageWidth - 28);\n                doc.text(splitEvidence, 14, currentYPosition + 7);\n                currentYPosition += 7 + splitEvidence.length * 7;\n            }\n            // Enhanced remediation section with structured format\n            if (vuln.remediation) {\n                // Check if we need to add a new page for remediation section\n                const pageHeight = doc.internal.pageSize.getHeight();\n                if (currentYPosition > pageHeight - 60) {\n                    doc.addPage();\n                    // Add page number\n                    const pageNumber = doc.getNumberOfPages();\n                    doc.setFontSize(10);\n                    doc.text(\"Page \".concat(pageNumber), pageWidth - 20, pageHeight - 10);\n                    currentYPosition = 20; // Reset position to top of new page\n                }\n                // Main remediation heading\n                doc.setFontSize(14);\n                doc.setTextColor(0, 51, 102); // Dark blue color\n                doc.text(\"Remediation:\", 14, currentYPosition);\n                currentYPosition += 10;\n                // Reset to normal text style\n                doc.setFontSize(12);\n                doc.setTextColor(0, 0, 0); // Black color\n                // Parse the remediation text to identify sections and clean markdown formatting\n                let remediationText = vuln.remediation;\n                // Remove all markdown header formatting (# through ####)\n                remediationText = remediationText.replace(/^#{1,4}\\s+/gm, \"\");\n                // Clean up other markdown formatting\n                remediationText = remediationText// Bold text (** or __)\n                .replace(/\\*\\*([^*]+)\\*\\*/g, \"$1\").replace(/__([^_]+)__/g, \"$1\")// Italic text (* or _)\n                .replace(/\\*([^*]+)\\*/g, \"$1\").replace(/_([^_]+)_/g, \"$1\")// Strikethrough text (~~)\n                .replace(/~~([^~]+)~~/g, \"$1\")// Inline code (`)\n                .replace(/`([^`]+)`/g, \"$1\")// Bullet points\n                .replace(/^\\s*[\\*\\-\\+]\\s+/gm, \"• \")// Numbered lists (keep numbers but standardize format)\n                .replace(/^\\s*\\d+\\.\\s+/gm, (match)=>match);\n                // Check if the remediation text contains structured sections\n                if (remediationText.includes(\"1. Importance of Fixing\") || remediationText.includes(\"Importance of Fixing\")) {\n                    // For structured remediation format - remove markdown headers and clean up formatting\n                    // Split by section numbers (1., 2., etc.)\n                    const sections = remediationText.split(/\\d+\\.\\s+/);\n                    // If the split didn't work well (only one section), try another approach\n                    if (sections.length <= 1) {\n                        // Try splitting by newline followed by a number and period\n                        const altSections = remediationText.split(/\\n\\d+\\.\\s+/);\n                        if (altSections.length > 1) {\n                            // Use this split instead\n                            sections.length = 0; // Clear the array\n                            altSections.forEach((section)=>sections.push(section));\n                        }\n                    }\n                    let sectionY = currentYPosition;\n                    const marginBottom = 20; // Space to reserve at bottom of page\n                    // Process each section after the split (skip the first empty element if exists)\n                    for(let i = 0; i < sections.length; i++){\n                        if (sections[i].trim() === \"\") continue;\n                        // Extract section title and content\n                        const sectionParts = sections[i].split(\"\\n\");\n                        // Clean up any remaining markdown formatting from section title\n                        const sectionTitle = sectionParts[0].trim().replace(/^#+\\s*/g, \"\");\n                        const sectionContent = sectionParts.slice(1).join(\"\\n\").trim();\n                        // Check if we need to add a new page before starting a new section\n                        if (sectionY > pageHeight - 40) {\n                            doc.addPage();\n                            // Add page number\n                            const pageNumber = doc.getNumberOfPages();\n                            doc.setFontSize(10);\n                            doc.text(\"Page \".concat(pageNumber), pageWidth - 20, pageHeight - 10);\n                            sectionY = 20; // Reset position to top of new page\n                        }\n                        // Add section title with bold styling\n                        doc.setFont(\"helvetica\", \"bold\");\n                        doc.text(sectionTitle, 14, sectionY);\n                        doc.setFont(\"helvetica\", \"normal\");\n                        sectionY += 7;\n                        // Add section content with proper formatting\n                        const splitContent = doc.splitTextToSize(sectionContent, pageWidth - 28);\n                        // Check if content will fit on current page\n                        const contentHeight = splitContent.length * 7;\n                        if (sectionY + contentHeight > pageHeight - marginBottom) {\n                            // Content won't fit on current page\n                            // Calculate how many lines will fit on current page\n                            const availableHeight = pageHeight - marginBottom - sectionY;\n                            const linesPerPage = Math.floor(availableHeight / 7);\n                            if (linesPerPage > 0) {\n                                // Add as many lines as will fit on current page\n                                const firstPageLines = splitContent.slice(0, linesPerPage);\n                                doc.text(firstPageLines, 14, sectionY);\n                            }\n                            // Add a new page for remaining content\n                            doc.addPage();\n                            // Add page number\n                            const pageNumber = doc.getNumberOfPages();\n                            doc.setFontSize(10);\n                            doc.text(\"Page \".concat(pageNumber), pageWidth - 20, pageHeight - 10);\n                            doc.setFontSize(12);\n                            // Continue with remaining content on new page\n                            const remainingLines = splitContent.slice(linesPerPage > 0 ? linesPerPage : 0);\n                            if (remainingLines.length > 0) {\n                                sectionY = 20; // Reset position to top of new page\n                                doc.text(remainingLines, 14, sectionY);\n                                sectionY += remainingLines.length * 7 + 10;\n                            } else {\n                                sectionY = 20; // Reset position to top of new page\n                            }\n                        } else {\n                            // Content fits on current page\n                            doc.text(splitContent, 14, sectionY);\n                            sectionY += contentHeight + 10;\n                        }\n                        // Handle code examples with special formatting\n                        if (sectionContent.includes(\"```\")) {\n                            const contentParts = sectionContent.split(/```\\w*\\n/);\n                            let contentY = sectionY;\n                            for(let j = 0; j < contentParts.length; j++){\n                                if (j % 2 === 0) {\n                                    // Regular text\n                                    const regularText = contentParts[j].trim();\n                                    if (regularText) {\n                                        const splitRegular = doc.splitTextToSize(regularText, pageWidth - 28);\n                                        // Check if content will fit on current page\n                                        if (contentY + splitRegular.length * 7 > pageHeight - marginBottom) {\n                                            // Add a new page\n                                            doc.addPage();\n                                            // Add page number\n                                            const pageNumber = doc.getNumberOfPages();\n                                            doc.setFontSize(10);\n                                            doc.text(\"Page \".concat(pageNumber), pageWidth - 20, pageHeight - 10);\n                                            doc.setFontSize(12);\n                                            contentY = 20; // Reset position to top of new page\n                                        }\n                                        doc.text(splitRegular, 14, contentY);\n                                        contentY += splitRegular.length * 7;\n                                    }\n                                } else {\n                                    // Code example\n                                    const codeText = contentParts[j].split(\"```\")[0].trim();\n                                    if (codeText) {\n                                        const splitCode = doc.splitTextToSize(codeText, pageWidth - 40);\n                                        const codeHeight = splitCode.length * 7 + 10;\n                                        // Check if code block will fit on current page\n                                        if (contentY + codeHeight > pageHeight - marginBottom) {\n                                            // Add a new page\n                                            doc.addPage();\n                                            // Add page number\n                                            const pageNumber = doc.getNumberOfPages();\n                                            doc.setFontSize(10);\n                                            doc.text(\"Page \".concat(pageNumber), pageWidth - 20, pageHeight - 10);\n                                            doc.setFontSize(12);\n                                            contentY = 20; // Reset position to top of new page\n                                        }\n                                        // Draw a light gray background for code\n                                        doc.setFillColor(240, 240, 240);\n                                        doc.rect(14, contentY - 5, pageWidth - 28, codeHeight, \"F\");\n                                        // Add the code with monospace font\n                                        doc.setFont(\"courier\", \"normal\");\n                                        doc.text(splitCode, 20, contentY);\n                                        doc.setFont(\"helvetica\", \"normal\");\n                                        contentY += codeHeight;\n                                    }\n                                }\n                            }\n                            sectionY = contentY + 10;\n                        }\n                    }\n                    currentYPosition = sectionY;\n                } else {\n                    // For simple unstructured remediation text\n                    // Clean up any markdown formatting from unstructured text\n                    remediationText = remediationText.replace(/^###\\s+/gm, \"\");\n                    remediationText = remediationText.replace(/^####\\s+/gm, \"\");\n                    remediationText = remediationText.replace(/^#\\s+/gm, \"\");\n                    const splitRemediation = doc.splitTextToSize(remediationText, pageWidth - 28);\n                    const remediationHeight = splitRemediation.length * 7;\n                    // Check if remediation text will fit on current page\n                    if (currentYPosition + remediationHeight > pageHeight - 20) {\n                        // Calculate how many lines will fit on current page\n                        const availableHeight = pageHeight - 20 - currentYPosition;\n                        const linesPerPage = Math.floor(availableHeight / 7);\n                        if (linesPerPage > 0) {\n                            // Add as many lines as will fit on current page\n                            const firstPageLines = splitRemediation.slice(0, linesPerPage);\n                            doc.text(firstPageLines, 14, currentYPosition);\n                        }\n                        // Add a new page for remaining content\n                        doc.addPage();\n                        // Add page number\n                        const pageNumber = doc.getNumberOfPages();\n                        doc.setFontSize(10);\n                        doc.text(\"Page \".concat(pageNumber), pageWidth - 20, pageHeight - 10);\n                        doc.setFontSize(12);\n                        // Continue with remaining content on new page\n                        const remainingLines = splitRemediation.slice(linesPerPage > 0 ? linesPerPage : 0);\n                        if (remainingLines.length > 0) {\n                            currentYPosition = 20; // Reset position to top of new page\n                            doc.text(remainingLines, 14, currentYPosition);\n                            currentYPosition += remainingLines.length * 7;\n                        } else {\n                            currentYPosition = 20; // Reset position to top of new page\n                        }\n                    } else {\n                        // Content fits on current page\n                        doc.text(splitRemediation, 14, currentYPosition);\n                        currentYPosition += remediationHeight;\n                    }\n                }\n            }\n        });\n    }\n    // Add footer with generation date\n    const pageCount = doc.getNumberOfPages();\n    for(let i = 1; i <= pageCount; i++){\n        doc.setPage(i);\n        doc.setFontSize(10);\n        doc.setTextColor(100, 100, 100); // Gray color\n        doc.text(\"Report generated on \".concat(new Date().toLocaleString()), 14, doc.internal.pageSize.getHeight() - 10);\n    }\n    // Return the PDF as a blob\n    return doc.output(\"blob\");\n};\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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bUIsSUFBSSxvQ0FBb0M7d0JBQzdEO29CQUNGLE9BQU87d0JBQ0wsK0JBQStCO3dCQUMvQnhFLElBQUlPLElBQUksQ0FBQzBHLGtCQUFrQixJQUFJekM7d0JBQy9CQSxvQkFBb0IwQztvQkFDdEI7Z0JBQ0Y7WUFDRjtRQUNGO0lBQ0Y7SUFFQSxrQ0FBa0M7SUFDbEMsTUFBTUMsWUFBWW5ILElBQUkrRCxnQkFBZ0I7SUFDdEMsSUFBSyxJQUFJeUIsSUFBSSxHQUFHQSxLQUFLMkIsV0FBVzNCLElBQUs7UUFDbkN4RixJQUFJb0gsT0FBTyxDQUFDNUI7UUFDWnhGLElBQUlLLFdBQVcsQ0FBQztRQUNoQkwsSUFBSU0sWUFBWSxDQUFDLEtBQUssS0FBSyxNQUFNLGFBQWE7UUFDOUNOLElBQUlPLElBQUksQ0FBQyx1QkFBbUQsT0FBNUIsSUFBSVUsT0FBT0MsY0FBYyxLQUFNLElBQUlsQixJQUFJRSxRQUFRLENBQUNDLFFBQVEsQ0FBQzZELFNBQVMsS0FBSztJQUN6RztJQUVBLDJCQUEyQjtJQUMzQixPQUFPaEUsSUFBSXFILE1BQU0sQ0FBQztBQUNwQixFQUFFIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vX05fRS8uL3NyYy91dGlscy9wZGZHZW5lcmF0b3IudHM/ZGMxYSJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBqc1BERiB9IGZyb20gJ2pzcGRmJztcbmltcG9ydCBhdXRvVGFibGUgZnJvbSAnanNwZGYtYXV0b3RhYmxlJztcblxuaW50ZXJmYWNlIFNldmVyaXR5Q291bnRzIHtcbiAgY3JpdGljYWw6IG51bWJlcjtcbiAgaGlnaDogbnVtYmVyO1xuICBtZWRpdW06IG51bWJlcjtcbiAgbG93OiBudW1iZXI7XG4gIGluZm86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFNjYW5TdW1tYXJ5IHtcbiAgdG90YWxfdnVsbmVyYWJpbGl0aWVzOiBudW1iZXI7XG4gIHNldmVyaXR5X2NvdW50czogU2V2ZXJpdHlDb3VudHM7XG4gIHNjYW5fZHVyYXRpb24/OiBudW1iZXI7XG4gIHBhZ2VzX3NjYW5uZWQ/OiBudW1iZXI7XG59XG5cbmludGVyZmFjZSBWdWxuZXJhYmlsaXR5IHtcbiAgaWQ6IHN0cmluZztcbiAgbmFtZTogc3RyaW5nO1xuICBkZXNjcmlwdGlvbjogc3RyaW5nO1xuICBzZXZlcml0eTogc3RyaW5nO1xuICBsb2NhdGlvbjogc3RyaW5nO1xuICBldmlkZW5jZT86IHN0cmluZztcbiAgcmVtZWRpYXRpb24/OiBzdHJpbmc7XG4gIGN3ZV9pZD86IHN0cmluZztcbiAgY3Zzc19zY29yZT86IG51bWJlcjtcbn1cblxuaW50ZXJmYWNlIFNjYW5EZXRhaWxzIHtcbiAgaWQ6IHN0cmluZztcbiAgdXJsPzogc3RyaW5nO1xuICB0YXJnZXQ/OiBzdHJpbmc7IC8vIEFkZGVkIHRhcmdldCBmaWVsZCBhcyBhbiBhbHRlcm5hdGl2ZSB0byB1cmxcbiAgc2Nhbl90eXBlPzogc3RyaW5nO1xuICBzdGF0dXM6IHN0cmluZztcbiAgY3JlYXRlZF9hdD86IHN0cmluZztcbiAgc3RhcnRlZF9hdD86IHN0cmluZzsgLy8gQWRkZWQgc3RhcnRlZF9hdCBmaWVsZCBhcyBhbiBhbHRlcm5hdGl2ZSB0byBzdGFydF90aW1lXG4gIGNvbXBsZXRlZF9hdD86IHN0cmluZzsgLy8gQWRkZWQgY29tcGxldGVkX2F0IGZpZWxkIGFzIGFuIGFsdGVybmF0aXZlIHRvIGVuZF90aW1lXG4gIHN0YXJ0X3RpbWU/OiBzdHJpbmcgfCBudWxsO1xuICBlbmRfdGltZT86IHN0cmluZyB8IG51bGw7XG4gIHN1bW1hcnk6IFNjYW5TdW1tYXJ5IHwgbnVsbDtcbn1cblxuLyoqXG4gKiBHZW5lcmF0ZSBhIFBERiByZXBvcnQgZnJvbSBzY2FuIGRhdGFcbiAqIEBwYXJhbSBzY2FuIFRoZSBzY2FuIGRldGFpbHNcbiAqIEBwYXJhbSB2dWxuZXJhYmlsaXRpZXMgTGlzdCBvZiB2dWxuZXJhYmlsaXRpZXMgZm91bmQgaW4gdGhlIHNjYW5cbiAqIEByZXR1cm5zIEJsb2IgY29udGFpbmluZyB0aGUgUERGIGRvY3VtZW50XG4gKi9cbmV4cG9ydCBjb25zdCBnZW5lcmF0ZVBERlJlcG9ydCA9IChzY2FuOiBTY2FuRGV0YWlscywgdnVsbmVyYWJpbGl0aWVzOiBWdWxuZXJhYmlsaXR5W10gPSBbXSk6IEJsb2IgPT4ge1xuICAvLyBJbml0aWFsaXplIFBERiBkb2N1bWVudFxuICBjb25zdCBkb2MgPSBuZXcganNQREYoKTtcbiAgY29uc3QgcGFnZVdpZHRoID0gZG9jLmludGVybmFsLnBhZ2VTaXplLmdldFdpZHRoKCk7XG4gIFxuICAvLyBBZGQgcmVwb3J0IHRpdGxlXG4gIGRvYy5zZXRGb250U2l6ZSgyMCk7XG4gIGRvYy5zZXRUZXh0Q29sb3IoMCwgNTEsIDEwMik7IC8vIERhcmsgYmx1ZSBjb2xvclxuICBkb2MudGV4dCgnV2Vic2l0ZSBTZWN1cml0eSBTY2FuIFJlcG9ydCcsIHBhZ2VXaWR0aCAvIDIsIDIwLCB7IGFsaWduOiAnY2VudGVyJyB9KTtcbiAgXG4gIC8vIEFkZCBzY2FuIGluZm9ybWF0aW9uXG4gIGRvYy5zZXRGb250U2l6ZSgxMik7XG4gIGRvYy5zZXRUZXh0Q29sb3IoMCwgMCwgMCk7IC8vIEJsYWNrIGNvbG9yXG4gIGRvYy50ZXh0KGBVUkw6ICR7c2Nhbi51cmwgfHwgc2Nhbi50YXJnZXQgfHwgJ04vQSd9YCwgMTQsIDM1KTtcbiAgZG9jLnRleHQoYFNjYW4gVHlwZTogJHtzY2FuLnNjYW5fdHlwZSA/IHNjYW4uc2Nhbl90eXBlLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2Nhbi5zY2FuX3R5cGUuc2xpY2UoMSkgOiAnTi9BJ31gLCAxNCwgNDIpO1xuICBkb2MudGV4dChgU3RhdHVzOiAke3NjYW4uc3RhdHVzLmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgc2Nhbi5zdGF0dXMuc2xpY2UoMSl9YCwgMTQsIDQ5KTtcbiAgZG9jLnRleHQoYERhdGU6ICR7c2Nhbi5jcmVhdGVkX2F0ID8gbmV3IERhdGUoc2Nhbi5jcmVhdGVkX2F0KS50b0xvY2FsZVN0cmluZygpIDogJ04vQSd9YCwgMTQsIDU2KTtcbiAgXG4gIC8vIEhhbmRsZSBkaWZmZXJlbnQgdGltZSBmaWVsZCBuYW1lc1xuICBjb25zdCBzdGFydFRpbWVWYWx1ZSA9IHNjYW4uc3RhcnRfdGltZSB8fCBzY2FuLnN0YXJ0ZWRfYXQ7XG4gIGNvbnN0IGVuZFRpbWVWYWx1ZSA9IHNjYW4uZW5kX3RpbWUgfHwgc2Nhbi5jb21wbGV0ZWRfYXQ7XG4gIFxuICBpZiAoc3RhcnRUaW1lVmFsdWUgJiYgZW5kVGltZVZhbHVlKSB7XG4gICAgY29uc3Qgc3RhcnRUaW1lID0gbmV3IERhdGUoc3RhcnRUaW1lVmFsdWUpO1xuICAgIGNvbnN0IGVuZFRpbWUgPSBuZXcgRGF0ZShlbmRUaW1lVmFsdWUpO1xuICAgIGRvYy50ZXh0KGBEdXJhdGlvbjogJHsoKGVuZFRpbWUuZ2V0VGltZSgpIC0gc3RhcnRUaW1lLmdldFRpbWUoKSkgLyAxMDAwIC8gNjApLnRvRml4ZWQoMil9IG1pbnV0ZXNgLCAxNCwgNjMpO1xuICB9XG4gIFxuICAvLyBBZGQgc3VtbWFyeSBzZWN0aW9uXG4gIGRvYy5zZXRGb250U2l6ZSgxNik7XG4gIGRvYy5zZXRUZXh0Q29sb3IoMCwgNTEsIDEwMik7IC8vIERhcmsgYmx1ZSBjb2xvclxuICBkb2MudGV4dCgnU3VtbWFyeScsIDE0LCA3NSk7XG4gIFxuICBpZiAoc2Nhbi5zdW1tYXJ5KSB7XG4gICAgZG9jLnNldEZvbnRTaXplKDEyKTtcbiAgICBkb2Muc2V0VGV4dENvbG9yKDAsIDAsIDApOyAvLyBCbGFjayBjb2xvclxuICAgIGRvYy50ZXh0KGBUb3RhbCBWdWxuZXJhYmlsaXRpZXM6ICR7c2Nhbi5zdW1tYXJ5LnRvdGFsX3Z1bG5lcmFiaWxpdGllc31gLCAxNCwgODUpO1xuICAgIFxuICAgIC8vIEFkZCBzZXZlcml0eSBjb3VudHNcbiAgICBpZiAoc2Nhbi5zdW1tYXJ5LnNldmVyaXR5X2NvdW50cykge1xuICAgICAgY29uc3Qgc2V2ZXJpdHlDb3VudHMgPSBzY2FuLnN1bW1hcnkuc2V2ZXJpdHlfY291bnRzO1xuICAgICAgXG4gICAgICAvLyBDcmVhdGUgYSB0YWJsZSBmb3Igc2V2ZXJpdHkgY291bnRzXG4gICAgICBhdXRvVGFibGUoZG9jLCB7XG4gICAgICAgIHN0YXJ0WTogOTUsXG4gICAgICAgIGhlYWQ6IFtbJ1NldmVyaXR5JywgJ0NvdW50J11dLFxuICAgICAgICBib2R5OiBbXG4gICAgICAgICAgWydDcml0aWNhbCcsIHNldmVyaXR5Q291bnRzLmNyaXRpY2FsLnRvU3RyaW5nKCldLFxuICAgICAgICAgIFsnSGlnaCcsIHNldmVyaXR5Q291bnRzLmhpZ2gudG9TdHJpbmcoKV0sXG4gICAgICAgICAgWydNZWRpdW0nLCBzZXZlcml0eUNvdW50cy5tZWRpdW0udG9TdHJpbmcoKV0sXG4gICAgICAgICAgWydMb3cnLCBzZXZlcml0eUNvdW50cy5sb3cudG9TdHJpbmcoKV0sXG4gICAgICAgICAgWydJbmZvJywgc2V2ZXJpdHlDb3VudHMuaW5mby50b1N0cmluZygpXVxuICAgICAgICBdLFxuICAgICAgICB0aGVtZTogJ3N0cmlwZWQnLFxuICAgICAgICBoZWFkU3R5bGVzOiB7IGZpbGxDb2xvcjogWzAsIDUxLCAxMDJdIH0sXG4gICAgICAgIGNvbHVtblN0eWxlczoge1xuICAgICAgICAgIDA6IHsgY2VsbFdpZHRoOiA0MCB9LFxuICAgICAgICAgIDE6IHsgY2VsbFdpZHRoOiA0MCwgaGFsaWduOiAnY2VudGVyJyB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBcbiAgLy8gQWRkIHZ1bG5lcmFiaWxpdGllcyBzZWN0aW9uIGlmIHRoZXJlIGFyZSBhbnlcbiAgaWYgKHZ1bG5lcmFiaWxpdGllcy5sZW5ndGggPiAwKSB7XG4gICAgLy8gR2V0IHRoZSBwb3NpdGlvbiBhZnRlciB0aGUgbGFzdCB0YWJsZSBvciB1c2UgZGVmYXVsdCB2YWx1ZVxuICAgIGNvbnN0IGN1cnJlbnRZID0gKGRvYyBhcyBhbnkpLnByZXZpb3VzQXV0b1RhYmxlID8oZG9jIGFzIGFueSkucHJldmlvdXNBdXRvVGFibGUuZmluYWxZICsgMTUgOiAxNTA7XG4gICAgXG4gICAgZG9jLnNldEZvbnRTaXplKDE2KTtcbiAgICBkb2Muc2V0VGV4dENvbG9yKDAsIDUxLCAxMDIpOyAvLyBEYXJrIGJsdWUgY29sb3JcbiAgICBkb2MudGV4dCgnVnVsbmVyYWJpbGl0aWVzJywgMTQsIGN1cnJlbnRZKTtcbiAgICBcbiAgICAvLyBDcmVhdGUgYSB0YWJsZSBmb3IgdnVsbmVyYWJpbGl0aWVzXG4gICAgY29uc3QgdGFibGVSb3dzID0gdnVsbmVyYWJpbGl0aWVzLm1hcCh2dWxuID0+IFtcbiAgICAgIHZ1bG4ubmFtZSxcbiAgICAgIHZ1bG4uc2V2ZXJpdHkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkgKyB2dWxuLnNldmVyaXR5LnNsaWNlKDEpLFxuICAgICAgdnVsbi5sb2NhdGlvbixcbiAgICAgIHZ1bG4uZGVzY3JpcHRpb24ubGVuZ3RoID4gNTAgPyB2dWxuLmRlc2NyaXB0aW9uLnN1YnN0cmluZygwLCA1MCkgKyAnLi4uJyA6IHZ1bG4uZGVzY3JpcHRpb25cbiAgICBdKTtcbiAgICBcbiAgICBhdXRvVGFibGUoZG9jLCB7XG4gICAgICBzdGFydFk6IGN1cnJlbnRZICsgMTAsXG4gICAgICBoZWFkOiBbWydOYW1lJywgJ1NldmVyaXR5JywgJ0xvY2F0aW9uJywgJ0Rlc2NyaXB0aW9uJ11dLFxuICAgICAgYm9keTogdGFibGVSb3dzLFxuICAgICAgdGhlbWU6ICdzdHJpcGVkJyxcbiAgICAgIGhlYWRTdHlsZXM6IHsgZmlsbENvbG9yOiBbMCwgNTEsIDEwMl0gfSxcbiAgICAgIGNvbHVtblN0eWxlczoge1xuICAgICAgICAwOiB7IGNlbGxXaWR0aDogNDAgfSxcbiAgICAgICAgMTogeyBjZWxsV2lkdGg6IDMwIH0sXG4gICAgICAgIDI6IHsgY2VsbFdpZHRoOiA0MCB9LFxuICAgICAgICAzOiB7IGNlbGxXaWR0aDogJ2F1dG8nIH1cbiAgICAgIH0sXG4gICAgICBkaWREcmF3UGFnZTogKGRhdGEpID0+IHtcbiAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyIGF0IHRoZSBib3R0b21cbiAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IGRvYy5nZXROdW1iZXJPZlBhZ2VzKCk7XG4gICAgICAgIGRvYy5zZXRGb250U2l6ZSgxMCk7XG4gICAgICAgIGRvYy50ZXh0KGBQYWdlICR7cGFnZU51bWJlcn1gLCBwYWdlV2lkdGggLSAyMCwgZG9jLmludGVybmFsLnBhZ2VTaXplLmdldEhlaWdodCgpIC0gMTApO1xuICAgICAgfVxuICAgIH0pO1xuICAgIFxuICAgIC8vIEFkZCBkZXRhaWxlZCB2dWxuZXJhYmlsaXR5IGluZm9ybWF0aW9uXG4gICAgdnVsbmVyYWJpbGl0aWVzLmZvckVhY2goKHZ1bG4sIGluZGV4KSA9PiB7XG4gICAgICBkb2MuYWRkUGFnZSgpO1xuICAgICAgXG4gICAgICAvLyBBZGQgcGFnZSBudW1iZXJcbiAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBkb2MuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICAgICAgZG9jLnNldEZvbnRTaXplKDEwKTtcbiAgICAgIGRvYy50ZXh0KGBQYWdlICR7cGFnZU51bWJlcn1gLCBwYWdlV2lkdGggLSAyMCwgZG9jLmludGVybmFsLnBhZ2VTaXplLmdldEhlaWdodCgpIC0gMTApO1xuICAgICAgXG4gICAgICAvLyBBZGQgdnVsbmVyYWJpbGl0eSBkZXRhaWxzXG4gICAgICBkb2Muc2V0Rm9udFNpemUoMTYpO1xuICAgICAgZG9jLnNldFRleHRDb2xvcigwLCA1MSwgMTAyKTsgLy8gRGFyayBibHVlIGNvbG9yXG4gICAgICBkb2MudGV4dChgVnVsbmVyYWJpbGl0eSAjJHtpbmRleCArIDF9OiAke3Z1bG4ubmFtZX1gLCAxNCwgMjApO1xuICAgICAgXG4gICAgICBkb2Muc2V0Rm9udFNpemUoMTIpO1xuICAgICAgZG9jLnNldFRleHRDb2xvcigwLCAwLCAwKTsgLy8gQmxhY2sgY29sb3JcbiAgICAgIGRvYy50ZXh0KGBTZXZlcml0eTogJHt2dWxuLnNldmVyaXR5LmNoYXJBdCgwKS50b1VwcGVyQ2FzZSgpICsgdnVsbi5zZXZlcml0eS5zbGljZSgxKX1gLCAxNCwgMzApO1xuICAgICAgZG9jLnRleHQoYExvY2F0aW9uOiAke3Z1bG4ubG9jYXRpb259YCwgMTQsIDM3KTtcbiAgICAgIFxuICAgICAgaWYgKHZ1bG4uY3dlX2lkKSB7XG4gICAgICAgIGRvYy50ZXh0KGBDV0UgSUQ6ICR7dnVsbi5jd2VfaWR9YCwgMTQsIDQ0KTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgaWYgKHZ1bG4uY3Zzc19zY29yZSkge1xuICAgICAgICBkb2MudGV4dChgQ1ZTUyBTY29yZTogJHt2dWxuLmN2c3Nfc2NvcmV9YCwgMTQsIDUxKTtcbiAgICAgIH1cbiAgICAgIFxuICAgICAgLy8gRGVzY3JpcHRpb24gd2l0aCB3b3JkIHdyYXBcbiAgICAgIGRvYy5zZXRGb250U2l6ZSgxMik7XG4gICAgICBkb2MudGV4dCgnRGVzY3JpcHRpb246JywgMTQsIDU4KTtcbiAgICAgIGNvbnN0IHNwbGl0RGVzY3JpcHRpb24gPSBkb2Muc3BsaXRUZXh0VG9TaXplKHZ1bG4uZGVzY3JpcHRpb24sIHBhZ2VXaWR0aCAtIDI4KTtcbiAgICAgIGRvYy50ZXh0KHNwbGl0RGVzY3JpcHRpb24sIDE0LCA2NSk7XG4gICAgICBcbiAgICAgIGxldCBjdXJyZW50WVBvc2l0aW9uID0gNjUgKyAoc3BsaXREZXNjcmlwdGlvbi5sZW5ndGggKiA3KTtcbiAgICAgIFxuICAgICAgLy8gRXZpZGVuY2Ugd2l0aCB3b3JkIHdyYXAgaWYgYXZhaWxhYmxlXG4gICAgICBpZiAodnVsbi5ldmlkZW5jZSkge1xuICAgICAgICBkb2MudGV4dCgnRXZpZGVuY2U6JywgMTQsIGN1cnJlbnRZUG9zaXRpb24pO1xuICAgICAgICBjb25zdCBzcGxpdEV2aWRlbmNlID0gZG9jLnNwbGl0VGV4dFRvU2l6ZSh2dWxuLmV2aWRlbmNlLCBwYWdlV2lkdGggLSAyOCk7XG4gICAgICAgIGRvYy50ZXh0KHNwbGl0RXZpZGVuY2UsIDE0LCBjdXJyZW50WVBvc2l0aW9uICsgNyk7XG4gICAgICAgIGN1cnJlbnRZUG9zaXRpb24gKz0gNyArIChzcGxpdEV2aWRlbmNlLmxlbmd0aCAqIDcpO1xuICAgICAgfVxuICAgICAgXG4gICAgICAvLyBFbmhhbmNlZCByZW1lZGlhdGlvbiBzZWN0aW9uIHdpdGggc3RydWN0dXJlZCBmb3JtYXRcbiAgICAgIGlmICh2dWxuLnJlbWVkaWF0aW9uKSB7XG4gICAgICAgIC8vIENoZWNrIGlmIHdlIG5lZWQgdG8gYWRkIGEgbmV3IHBhZ2UgZm9yIHJlbWVkaWF0aW9uIHNlY3Rpb25cbiAgICAgICAgY29uc3QgcGFnZUhlaWdodCA9IGRvYy5pbnRlcm5hbC5wYWdlU2l6ZS5nZXRIZWlnaHQoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRZUG9zaXRpb24gPiBwYWdlSGVpZ2h0IC0gNjApIHsgLy8gTGVhdmUgZW5vdWdoIHNwYWNlIGZvciBoZWFkaW5nIGFuZCBpbml0aWFsIGNvbnRlbnRcbiAgICAgICAgICBkb2MuYWRkUGFnZSgpO1xuICAgICAgICAgIC8vIEFkZCBwYWdlIG51bWJlclxuICAgICAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBkb2MuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSgxMCk7XG4gICAgICAgICAgZG9jLnRleHQoYFBhZ2UgJHtwYWdlTnVtYmVyfWAsIHBhZ2VXaWR0aCAtIDIwLCBwYWdlSGVpZ2h0IC0gMTApO1xuICAgICAgICAgIGN1cnJlbnRZUG9zaXRpb24gPSAyMDsgLy8gUmVzZXQgcG9zaXRpb24gdG8gdG9wIG9mIG5ldyBwYWdlXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgICAgIC8vIE1haW4gcmVtZWRpYXRpb24gaGVhZGluZ1xuICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTQpO1xuICAgICAgICBkb2Muc2V0VGV4dENvbG9yKDAsIDUxLCAxMDIpOyAvLyBEYXJrIGJsdWUgY29sb3JcbiAgICAgICAgZG9jLnRleHQoJ1JlbWVkaWF0aW9uOicsIDE0LCBjdXJyZW50WVBvc2l0aW9uKTtcbiAgICAgICAgY3VycmVudFlQb3NpdGlvbiArPSAxMDtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlc2V0IHRvIG5vcm1hbCB0ZXh0IHN0eWxlXG4gICAgICAgIGRvYy5zZXRGb250U2l6ZSgxMik7XG4gICAgICAgIGRvYy5zZXRUZXh0Q29sb3IoMCwgMCwgMCk7IC8vIEJsYWNrIGNvbG9yXG4gICAgICAgIFxuICAgICAgICAvLyBQYXJzZSB0aGUgcmVtZWRpYXRpb24gdGV4dCB0byBpZGVudGlmeSBzZWN0aW9ucyBhbmQgY2xlYW4gbWFya2Rvd24gZm9ybWF0dGluZ1xuICAgICAgICBsZXQgcmVtZWRpYXRpb25UZXh0ID0gdnVsbi5yZW1lZGlhdGlvbjtcbiAgICAgICAgXG4gICAgICAgIC8vIFJlbW92ZSBhbGwgbWFya2Rvd24gaGVhZGVyIGZvcm1hdHRpbmcgKCMgdGhyb3VnaCAjIyMjKVxuICAgICAgICByZW1lZGlhdGlvblRleHQgPSByZW1lZGlhdGlvblRleHQucmVwbGFjZSgvXiN7MSw0fVxccysvZ20sICcnKTtcbiAgICAgICAgXG4gICAgICAgIC8vIENsZWFuIHVwIG90aGVyIG1hcmtkb3duIGZvcm1hdHRpbmdcbiAgICAgICAgcmVtZWRpYXRpb25UZXh0ID0gcmVtZWRpYXRpb25UZXh0XG4gICAgICAgICAgLy8gQm9sZCB0ZXh0ICgqKiBvciBfXylcbiAgICAgICAgICAucmVwbGFjZSgvXFwqXFwqKFteKl0rKVxcKlxcKi9nLCAnJDEnKVxuICAgICAgICAgIC5yZXBsYWNlKC9fXyhbXl9dKylfXy9nLCAnJDEnKVxuICAgICAgICAgIC8vIEl0YWxpYyB0ZXh0ICgqIG9yIF8pXG4gICAgICAgICAgLnJlcGxhY2UoL1xcKihbXipdKylcXCovZywgJyQxJylcbiAgICAgICAgICAucmVwbGFjZSgvXyhbXl9dKylfL2csICckMScpXG4gICAgICAgICAgLy8gU3RyaWtldGhyb3VnaCB0ZXh0ICh+filcbiAgICAgICAgICAucmVwbGFjZSgvfn4oW15+XSspfn4vZywgJyQxJylcbiAgICAgICAgICAvLyBJbmxpbmUgY29kZSAoYClcbiAgICAgICAgICAucmVwbGFjZSgvYChbXmBdKylgL2csICckMScpXG4gICAgICAgICAgLy8gQnVsbGV0IHBvaW50c1xuICAgICAgICAgIC5yZXBsYWNlKC9eXFxzKltcXCpcXC1cXCtdXFxzKy9nbSwgJ+KAoiAnKVxuICAgICAgICAgIC8vIE51bWJlcmVkIGxpc3RzIChrZWVwIG51bWJlcnMgYnV0IHN0YW5kYXJkaXplIGZvcm1hdClcbiAgICAgICAgICAucmVwbGFjZSgvXlxccypcXGQrXFwuXFxzKy9nbSwgKG1hdGNoKSA9PiBtYXRjaCk7XG4gICAgICAgIFxuICAgICAgICAvLyBDaGVjayBpZiB0aGUgcmVtZWRpYXRpb24gdGV4dCBjb250YWlucyBzdHJ1Y3R1cmVkIHNlY3Rpb25zXG4gICAgICAgIGlmIChyZW1lZGlhdGlvblRleHQuaW5jbHVkZXMoJzEuIEltcG9ydGFuY2Ugb2YgRml4aW5nJykgfHwgcmVtZWRpYXRpb25UZXh0LmluY2x1ZGVzKCdJbXBvcnRhbmNlIG9mIEZpeGluZycpKSB7XG4gICAgICAgICAgLy8gRm9yIHN0cnVjdHVyZWQgcmVtZWRpYXRpb24gZm9ybWF0IC0gcmVtb3ZlIG1hcmtkb3duIGhlYWRlcnMgYW5kIGNsZWFuIHVwIGZvcm1hdHRpbmdcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBTcGxpdCBieSBzZWN0aW9uIG51bWJlcnMgKDEuLCAyLiwgZXRjLilcbiAgICAgICAgICBjb25zdCBzZWN0aW9ucyA9IHJlbWVkaWF0aW9uVGV4dC5zcGxpdCgvXFxkK1xcLlxccysvKTtcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBJZiB0aGUgc3BsaXQgZGlkbid0IHdvcmsgd2VsbCAob25seSBvbmUgc2VjdGlvbiksIHRyeSBhbm90aGVyIGFwcHJvYWNoXG4gICAgICAgICAgaWYgKHNlY3Rpb25zLmxlbmd0aCA8PSAxKSB7XG4gICAgICAgICAgICAvLyBUcnkgc3BsaXR0aW5nIGJ5IG5ld2xpbmUgZm9sbG93ZWQgYnkgYSBudW1iZXIgYW5kIHBlcmlvZFxuICAgICAgICAgICAgY29uc3QgYWx0U2VjdGlvbnMgPSByZW1lZGlhdGlvblRleHQuc3BsaXQoL1xcblxcZCtcXC5cXHMrLyk7XG4gICAgICAgICAgICBpZiAoYWx0U2VjdGlvbnMubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICAvLyBVc2UgdGhpcyBzcGxpdCBpbnN0ZWFkXG4gICAgICAgICAgICAgIHNlY3Rpb25zLmxlbmd0aCA9IDA7IC8vIENsZWFyIHRoZSBhcnJheVxuICAgICAgICAgICAgICBhbHRTZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4gc2VjdGlvbnMucHVzaChzZWN0aW9uKSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIFxuICAgICAgICAgIGxldCBzZWN0aW9uWSA9IGN1cnJlbnRZUG9zaXRpb247XG4gICAgICAgICAgY29uc3QgbWFyZ2luQm90dG9tID0gMjA7IC8vIFNwYWNlIHRvIHJlc2VydmUgYXQgYm90dG9tIG9mIHBhZ2VcbiAgICAgICAgICBcbiAgICAgICAgICAvLyBQcm9jZXNzIGVhY2ggc2VjdGlvbiBhZnRlciB0aGUgc3BsaXQgKHNraXAgdGhlIGZpcnN0IGVtcHR5IGVsZW1lbnQgaWYgZXhpc3RzKVxuICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgc2VjdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmIChzZWN0aW9uc1tpXS50cmltKCkgPT09ICcnKSBjb250aW51ZTtcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gRXh0cmFjdCBzZWN0aW9uIHRpdGxlIGFuZCBjb250ZW50XG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uUGFydHMgPSBzZWN0aW9uc1tpXS5zcGxpdCgnXFxuJyk7XG4gICAgICAgICAgICAvLyBDbGVhbiB1cCBhbnkgcmVtYWluaW5nIG1hcmtkb3duIGZvcm1hdHRpbmcgZnJvbSBzZWN0aW9uIHRpdGxlXG4gICAgICAgICAgICBjb25zdCBzZWN0aW9uVGl0bGUgPSBzZWN0aW9uUGFydHNbMF0udHJpbSgpLnJlcGxhY2UoL14jK1xccyovZywgJycpO1xuICAgICAgICAgICAgY29uc3Qgc2VjdGlvbkNvbnRlbnQgPSBzZWN0aW9uUGFydHMuc2xpY2UoMSkuam9pbignXFxuJykudHJpbSgpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDaGVjayBpZiB3ZSBuZWVkIHRvIGFkZCBhIG5ldyBwYWdlIGJlZm9yZSBzdGFydGluZyBhIG5ldyBzZWN0aW9uXG4gICAgICAgICAgICBpZiAoc2VjdGlvblkgPiBwYWdlSGVpZ2h0IC0gNDApIHsgLy8gTGVhdmUgc3BhY2UgZm9yIHRpdGxlIGFuZCBzb21lIGNvbnRlbnRcbiAgICAgICAgICAgICAgZG9jLmFkZFBhZ2UoKTtcbiAgICAgICAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyXG4gICAgICAgICAgICAgIGNvbnN0IHBhZ2VOdW1iZXIgPSBkb2MuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICAgICAgICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTApO1xuICAgICAgICAgICAgICBkb2MudGV4dChgUGFnZSAke3BhZ2VOdW1iZXJ9YCwgcGFnZVdpZHRoIC0gMjAsIHBhZ2VIZWlnaHQgLSAxMCk7XG4gICAgICAgICAgICAgIHNlY3Rpb25ZID0gMjA7IC8vIFJlc2V0IHBvc2l0aW9uIHRvIHRvcCBvZiBuZXcgcGFnZVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBBZGQgc2VjdGlvbiB0aXRsZSB3aXRoIGJvbGQgc3R5bGluZ1xuICAgICAgICAgICAgZG9jLnNldEZvbnQoJ2hlbHZldGljYScsICdib2xkJyk7XG4gICAgICAgICAgICBkb2MudGV4dChzZWN0aW9uVGl0bGUsIDE0LCBzZWN0aW9uWSk7XG4gICAgICAgICAgICBkb2Muc2V0Rm9udCgnaGVsdmV0aWNhJywgJ25vcm1hbCcpO1xuICAgICAgICAgICAgc2VjdGlvblkgKz0gNztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIHNlY3Rpb24gY29udGVudCB3aXRoIHByb3BlciBmb3JtYXR0aW5nXG4gICAgICAgICAgICBjb25zdCBzcGxpdENvbnRlbnQgPSBkb2Muc3BsaXRUZXh0VG9TaXplKHNlY3Rpb25Db250ZW50LCBwYWdlV2lkdGggLSAyOCk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIC8vIENoZWNrIGlmIGNvbnRlbnQgd2lsbCBmaXQgb24gY3VycmVudCBwYWdlXG4gICAgICAgICAgICBjb25zdCBjb250ZW50SGVpZ2h0ID0gc3BsaXRDb250ZW50Lmxlbmd0aCAqIDc7XG4gICAgICAgICAgICBpZiAoc2VjdGlvblkgKyBjb250ZW50SGVpZ2h0ID4gcGFnZUhlaWdodCAtIG1hcmdpbkJvdHRvbSkge1xuICAgICAgICAgICAgICAvLyBDb250ZW50IHdvbid0IGZpdCBvbiBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtYW55IGxpbmVzIHdpbGwgZml0IG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgICBjb25zdCBhdmFpbGFibGVIZWlnaHQgPSBwYWdlSGVpZ2h0IC0gbWFyZ2luQm90dG9tIC0gc2VjdGlvblk7XG4gICAgICAgICAgICAgIGNvbnN0IGxpbmVzUGVyUGFnZSA9IE1hdGguZmxvb3IoYXZhaWxhYmxlSGVpZ2h0IC8gNyk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBpZiAobGluZXNQZXJQYWdlID4gMCkge1xuICAgICAgICAgICAgICAgIC8vIEFkZCBhcyBtYW55IGxpbmVzIGFzIHdpbGwgZml0IG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgICAgIGNvbnN0IGZpcnN0UGFnZUxpbmVzID0gc3BsaXRDb250ZW50LnNsaWNlKDAsIGxpbmVzUGVyUGFnZSk7XG4gICAgICAgICAgICAgICAgZG9jLnRleHQoZmlyc3RQYWdlTGluZXMsIDE0LCBzZWN0aW9uWSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBwYWdlIGZvciByZW1haW5pbmcgY29udGVudFxuICAgICAgICAgICAgICBkb2MuYWRkUGFnZSgpO1xuICAgICAgICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXJcbiAgICAgICAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IGRvYy5nZXROdW1iZXJPZlBhZ2VzKCk7XG4gICAgICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSgxMCk7XG4gICAgICAgICAgICAgIGRvYy50ZXh0KGBQYWdlICR7cGFnZU51bWJlcn1gLCBwYWdlV2lkdGggLSAyMCwgcGFnZUhlaWdodCAtIDEwKTtcbiAgICAgICAgICAgICAgZG9jLnNldEZvbnRTaXplKDEyKTtcbiAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgIC8vIENvbnRpbnVlIHdpdGggcmVtYWluaW5nIGNvbnRlbnQgb24gbmV3IHBhZ2VcbiAgICAgICAgICAgICAgY29uc3QgcmVtYWluaW5nTGluZXMgPSBzcGxpdENvbnRlbnQuc2xpY2UobGluZXNQZXJQYWdlID4gMCA/IGxpbmVzUGVyUGFnZSA6IDApO1xuICAgICAgICAgICAgICBpZiAocmVtYWluaW5nTGluZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIHNlY3Rpb25ZID0gMjA7IC8vIFJlc2V0IHBvc2l0aW9uIHRvIHRvcCBvZiBuZXcgcGFnZVxuICAgICAgICAgICAgICAgIGRvYy50ZXh0KHJlbWFpbmluZ0xpbmVzLCAxNCwgc2VjdGlvblkpO1xuICAgICAgICAgICAgICAgIHNlY3Rpb25ZICs9IHJlbWFpbmluZ0xpbmVzLmxlbmd0aCAqIDcgKyAxMDtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBzZWN0aW9uWSA9IDIwOyAvLyBSZXNldCBwb3NpdGlvbiB0byB0b3Agb2YgbmV3IHBhZ2VcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgLy8gQ29udGVudCBmaXRzIG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgICBkb2MudGV4dChzcGxpdENvbnRlbnQsIDE0LCBzZWN0aW9uWSk7XG4gICAgICAgICAgICAgIHNlY3Rpb25ZICs9IGNvbnRlbnRIZWlnaHQgKyAxMDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gSGFuZGxlIGNvZGUgZXhhbXBsZXMgd2l0aCBzcGVjaWFsIGZvcm1hdHRpbmdcbiAgICAgICAgICAgIGlmIChzZWN0aW9uQ29udGVudC5pbmNsdWRlcygnYGBgJykpIHtcbiAgICAgICAgICAgICAgY29uc3QgY29udGVudFBhcnRzID0gc2VjdGlvbkNvbnRlbnQuc3BsaXQoL2BgYFxcdypcXG4vKTtcbiAgICAgICAgICAgICAgbGV0IGNvbnRlbnRZID0gc2VjdGlvblk7XG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbnRlbnRQYXJ0cy5sZW5ndGg7IGorKykge1xuICAgICAgICAgICAgICAgIGlmIChqICUgMiA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgLy8gUmVndWxhciB0ZXh0XG4gICAgICAgICAgICAgICAgICBjb25zdCByZWd1bGFyVGV4dCA9IGNvbnRlbnRQYXJ0c1tqXS50cmltKCk7XG4gICAgICAgICAgICAgICAgICBpZiAocmVndWxhclRleHQpIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3Qgc3BsaXRSZWd1bGFyID0gZG9jLnNwbGl0VGV4dFRvU2l6ZShyZWd1bGFyVGV4dCwgcGFnZVdpZHRoIC0gMjgpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQ2hlY2sgaWYgY29udGVudCB3aWxsIGZpdCBvbiBjdXJyZW50IHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgaWYgKGNvbnRlbnRZICsgKHNwbGl0UmVndWxhci5sZW5ndGggKiA3KSA+IHBhZ2VIZWlnaHQgLSBtYXJnaW5Cb3R0b20pIHtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgYSBuZXcgcGFnZVxuICAgICAgICAgICAgICAgICAgICAgIGRvYy5hZGRQYWdlKCk7XG4gICAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyXG4gICAgICAgICAgICAgICAgICAgICAgY29uc3QgcGFnZU51bWJlciA9IGRvYy5nZXROdW1iZXJPZlBhZ2VzKCk7XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnRTaXplKDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICBkb2MudGV4dChgUGFnZSAke3BhZ2VOdW1iZXJ9YCwgcGFnZVdpZHRoIC0gMjAsIHBhZ2VIZWlnaHQgLSAxMCk7XG4gICAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnRTaXplKDEyKTtcbiAgICAgICAgICAgICAgICAgICAgICBjb250ZW50WSA9IDIwOyAvLyBSZXNldCBwb3NpdGlvbiB0byB0b3Agb2YgbmV3IHBhZ2VcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgZG9jLnRleHQoc3BsaXRSZWd1bGFyLCAxNCwgY29udGVudFkpO1xuICAgICAgICAgICAgICAgICAgICBjb250ZW50WSArPSBzcGxpdFJlZ3VsYXIubGVuZ3RoICogNztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgLy8gQ29kZSBleGFtcGxlXG4gICAgICAgICAgICAgICAgICBjb25zdCBjb2RlVGV4dCA9IGNvbnRlbnRQYXJ0c1tqXS5zcGxpdCgnYGBgJylbMF0udHJpbSgpO1xuICAgICAgICAgICAgICAgICAgaWYgKGNvZGVUZXh0KSB7XG4gICAgICAgICAgICAgICAgICAgIGNvbnN0IHNwbGl0Q29kZSA9IGRvYy5zcGxpdFRleHRUb1NpemUoY29kZVRleHQsIHBhZ2VXaWR0aCAtIDQwKTtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgY29kZUhlaWdodCA9IHNwbGl0Q29kZS5sZW5ndGggKiA3ICsgMTA7XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBDaGVjayBpZiBjb2RlIGJsb2NrIHdpbGwgZml0IG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgICAgICAgICBpZiAoY29udGVudFkgKyBjb2RlSGVpZ2h0ID4gcGFnZUhlaWdodCAtIG1hcmdpbkJvdHRvbSkge1xuICAgICAgICAgICAgICAgICAgICAgIC8vIEFkZCBhIG5ldyBwYWdlXG4gICAgICAgICAgICAgICAgICAgICAgZG9jLmFkZFBhZ2UoKTtcbiAgICAgICAgICAgICAgICAgICAgICAvLyBBZGQgcGFnZSBudW1iZXJcbiAgICAgICAgICAgICAgICAgICAgICBjb25zdCBwYWdlTnVtYmVyID0gZG9jLmdldE51bWJlck9mUGFnZXMoKTtcbiAgICAgICAgICAgICAgICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTApO1xuICAgICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KGBQYWdlICR7cGFnZU51bWJlcn1gLCBwYWdlV2lkdGggLSAyMCwgcGFnZUhlaWdodCAtIDEwKTtcbiAgICAgICAgICAgICAgICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTIpO1xuICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnRZID0gMjA7IC8vIFJlc2V0IHBvc2l0aW9uIHRvIHRvcCBvZiBuZXcgcGFnZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgICAgICAvLyBEcmF3IGEgbGlnaHQgZ3JheSBiYWNrZ3JvdW5kIGZvciBjb2RlXG4gICAgICAgICAgICAgICAgICAgIGRvYy5zZXRGaWxsQ29sb3IoMjQwLCAyNDAsIDI0MCk7XG4gICAgICAgICAgICAgICAgICAgIGRvYy5yZWN0KDE0LCBjb250ZW50WSAtIDUsIHBhZ2VXaWR0aCAtIDI4LCBjb2RlSGVpZ2h0LCAnRicpO1xuICAgICAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICAgICAgLy8gQWRkIHRoZSBjb2RlIHdpdGggbW9ub3NwYWNlIGZvbnRcbiAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnQoJ2NvdXJpZXInLCAnbm9ybWFsJyk7XG4gICAgICAgICAgICAgICAgICAgIGRvYy50ZXh0KHNwbGl0Q29kZSwgMjAsIGNvbnRlbnRZKTtcbiAgICAgICAgICAgICAgICAgICAgZG9jLnNldEZvbnQoJ2hlbHZldGljYScsICdub3JtYWwnKTtcbiAgICAgICAgICAgICAgICAgICAgY29udGVudFkgKz0gY29kZUhlaWdodDtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgc2VjdGlvblkgPSBjb250ZW50WSArIDEwO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBcbiAgICAgICAgICBjdXJyZW50WVBvc2l0aW9uID0gc2VjdGlvblk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgLy8gRm9yIHNpbXBsZSB1bnN0cnVjdHVyZWQgcmVtZWRpYXRpb24gdGV4dFxuICAgICAgICAgIC8vIENsZWFuIHVwIGFueSBtYXJrZG93biBmb3JtYXR0aW5nIGZyb20gdW5zdHJ1Y3R1cmVkIHRleHRcbiAgICAgICAgICByZW1lZGlhdGlvblRleHQgPSByZW1lZGlhdGlvblRleHQucmVwbGFjZSgvXiMjI1xccysvZ20sICcnKTtcbiAgICAgICAgICByZW1lZGlhdGlvblRleHQgPSByZW1lZGlhdGlvblRleHQucmVwbGFjZSgvXiMjIyNcXHMrL2dtLCAnJyk7XG4gICAgICAgICAgcmVtZWRpYXRpb25UZXh0ID0gcmVtZWRpYXRpb25UZXh0LnJlcGxhY2UoL14jXFxzKy9nbSwgJycpO1xuICAgICAgICAgIFxuICAgICAgICAgIGNvbnN0IHNwbGl0UmVtZWRpYXRpb24gPSBkb2Muc3BsaXRUZXh0VG9TaXplKHJlbWVkaWF0aW9uVGV4dCwgcGFnZVdpZHRoIC0gMjgpO1xuICAgICAgICAgIGNvbnN0IHJlbWVkaWF0aW9uSGVpZ2h0ID0gc3BsaXRSZW1lZGlhdGlvbi5sZW5ndGggKiA3O1xuICAgICAgICAgIFxuICAgICAgICAgIC8vIENoZWNrIGlmIHJlbWVkaWF0aW9uIHRleHQgd2lsbCBmaXQgb24gY3VycmVudCBwYWdlXG4gICAgICAgICAgaWYgKGN1cnJlbnRZUG9zaXRpb24gKyByZW1lZGlhdGlvbkhlaWdodCA+IHBhZ2VIZWlnaHQgLSAyMCkge1xuICAgICAgICAgICAgLy8gQ2FsY3VsYXRlIGhvdyBtYW55IGxpbmVzIHdpbGwgZml0IG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgY29uc3QgYXZhaWxhYmxlSGVpZ2h0ID0gcGFnZUhlaWdodCAtIDIwIC0gY3VycmVudFlQb3NpdGlvbjtcbiAgICAgICAgICAgIGNvbnN0IGxpbmVzUGVyUGFnZSA9IE1hdGguZmxvb3IoYXZhaWxhYmxlSGVpZ2h0IC8gNyk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChsaW5lc1BlclBhZ2UgPiAwKSB7XG4gICAgICAgICAgICAgIC8vIEFkZCBhcyBtYW55IGxpbmVzIGFzIHdpbGwgZml0IG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgICBjb25zdCBmaXJzdFBhZ2VMaW5lcyA9IHNwbGl0UmVtZWRpYXRpb24uc2xpY2UoMCwgbGluZXNQZXJQYWdlKTtcbiAgICAgICAgICAgICAgZG9jLnRleHQoZmlyc3RQYWdlTGluZXMsIDE0LCBjdXJyZW50WVBvc2l0aW9uKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gQWRkIGEgbmV3IHBhZ2UgZm9yIHJlbWFpbmluZyBjb250ZW50XG4gICAgICAgICAgICBkb2MuYWRkUGFnZSgpO1xuICAgICAgICAgICAgLy8gQWRkIHBhZ2UgbnVtYmVyXG4gICAgICAgICAgICBjb25zdCBwYWdlTnVtYmVyID0gZG9jLmdldE51bWJlck9mUGFnZXMoKTtcbiAgICAgICAgICAgIGRvYy5zZXRGb250U2l6ZSgxMCk7XG4gICAgICAgICAgICBkb2MudGV4dChgUGFnZSAke3BhZ2VOdW1iZXJ9YCwgcGFnZVdpZHRoIC0gMjAsIHBhZ2VIZWlnaHQgLSAxMCk7XG4gICAgICAgICAgICBkb2Muc2V0Rm9udFNpemUoMTIpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyBDb250aW51ZSB3aXRoIHJlbWFpbmluZyBjb250ZW50IG9uIG5ldyBwYWdlXG4gICAgICAgICAgICBjb25zdCByZW1haW5pbmdMaW5lcyA9IHNwbGl0UmVtZWRpYXRpb24uc2xpY2UobGluZXNQZXJQYWdlID4gMCA/IGxpbmVzUGVyUGFnZSA6IDApO1xuICAgICAgICAgICAgaWYgKHJlbWFpbmluZ0xpbmVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICAgICAgY3VycmVudFlQb3NpdGlvbiA9IDIwOyAvLyBSZXNldCBwb3NpdGlvbiB0byB0b3Agb2YgbmV3IHBhZ2VcbiAgICAgICAgICAgICAgZG9jLnRleHQocmVtYWluaW5nTGluZXMsIDE0LCBjdXJyZW50WVBvc2l0aW9uKTtcbiAgICAgICAgICAgICAgY3VycmVudFlQb3NpdGlvbiArPSByZW1haW5pbmdMaW5lcy5sZW5ndGggKiA3O1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgY3VycmVudFlQb3NpdGlvbiA9IDIwOyAvLyBSZXNldCBwb3NpdGlvbiB0byB0b3Agb2YgbmV3IHBhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy8gQ29udGVudCBmaXRzIG9uIGN1cnJlbnQgcGFnZVxuICAgICAgICAgICAgZG9jLnRleHQoc3BsaXRSZW1lZGlhdGlvbiwgMTQsIGN1cnJlbnRZUG9zaXRpb24pO1xuICAgICAgICAgICAgY3VycmVudFlQb3NpdGlvbiArPSByZW1lZGlhdGlvbkhlaWdodDtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBcbiAgLy8gQWRkIGZvb3RlciB3aXRoIGdlbmVyYXRpb24gZGF0ZVxuICBjb25zdCBwYWdlQ291bnQgPSBkb2MuZ2V0TnVtYmVyT2ZQYWdlcygpO1xuICBmb3IgKGxldCBpID0gMTsgaSA8PSBwYWdlQ291bnQ7IGkrKykge1xuICAgIGRvYy5zZXRQYWdlKGkpO1xuICAgIGRvYy5zZXRGb250U2l6ZSgxMCk7XG4gICAgZG9jLnNldFRleHRDb2xvcigxMDAsIDEwMCwgMTAwKTsgLy8gR3JheSBjb2xvclxuICAgIGRvYy50ZXh0KGBSZXBvcnQgZ2VuZXJhdGVkIG9uICR7bmV3IERhdGUoKS50b0xvY2FsZVN0cmluZygpfWAsIDE0LCBkb2MuaW50ZXJuYWwucGFnZVNpemUuZ2V0SGVpZ2h0KCkgLSAxMCk7XG4gIH1cbiAgXG4gIC8vIFJldHVybiB0aGUgUERGIGFzIGEgYmxvYlxuICByZXR1cm4gZG9jLm91dHB1dCgnYmxvYicpO1xufTsiXSwibmFtZXMiOlsianNQREYiLCJhdXRvVGFibGUiLCJnZW5lcmF0ZVBERlJlcG9ydCIsInNjYW4iLCJ2dWxuZXJhYmlsaXRpZXMiLCJkb2MiLCJwYWdlV2lkdGgiLCJpbnRlcm5hbCIsInBhZ2VTaXplIiwiZ2V0V2lkdGgiLCJzZXRGb250U2l6ZSIsInNldFRleHRDb2xvciIsInRleHQiLCJhbGlnbiIsInVybCIsInRhcmdldCIsInNjYW5fdHlwZSIsImNoYXJBdCIsInRvVXBwZXJDYXNlIiwic2xpY2UiLCJzdGF0dXMiLCJjcmVhdGVkX2F0IiwiRGF0ZSIsInRvTG9jYWxlU3RyaW5nIiwic3RhcnRUaW1lVmFsdWUiLCJzdGFydF90aW1lIiwic3RhcnRlZF9hdCIsImVuZFRpbWVWYWx1ZSIsImVuZF90aW1lIiwiY29tcGxldGVkX2F0Iiwic3RhcnRUaW1lIiwiZW5kVGltZSIsImdldFRpbWUiLCJ0b0ZpeGVkIiwic3VtbWFyeSIsInRvdGFsX3Z1bG5lcmFiaWxpdGllcyIsInNldmVyaXR5X2NvdW50cyIsInNldmVyaXR5Q291bnRzIiwic3RhcnRZIiwiaGVhZCIsImJvZHkiLCJjcml0aWNhbCIsInRvU3RyaW5nIiwiaGlnaCIsIm1lZGl1bSIsImxvdyIsImluZm8iLCJ0aGVtZSIsImhlYWRTdHlsZXMiLCJmaWxsQ29sb3IiLCJjb2x1bW5TdHlsZXMiLCJjZWxsV2lkdGgiLCJoYWxpZ24iLCJsZW5ndGgiLCJjdXJyZW50WSIsInByZXZpb3VzQXV0b1RhYmxlIiwiZmluYWxZIiwidGFibGVSb3dzIiwibWFwIiwidnVsbiIsIm5hbWUiLCJzZXZlcml0eSIsImxvY2F0aW9uIiwiZGVzY3JpcHRpb24iLCJzdWJzdHJpbmciLCJkaWREcmF3UGFnZSIsImRhdGEiLCJwYWdlTnVtYmVyIiwiZ2V0TnVtYmVyT2ZQYWdlcyIsImdldEhlaWdodCIsImZvckVhY2giLCJpbmRleCIsImFkZFBhZ2UiLCJjd2VfaWQiLCJjdnNzX3Njb3JlIiwic3BsaXREZXNjcmlwdGlvbiIsInNwbGl0VGV4dFRvU2l6ZSIsImN1cnJlbnRZUG9zaXRpb24iLCJldmlkZW5jZSIsInNwbGl0RXZpZGVuY2UiLCJyZW1lZGlhdGlvbiIsInBhZ2VIZWlnaHQiLCJyZW1lZGlhdGlvblRleHQiLCJyZXBsYWNlIiwibWF0Y2giLCJpbmNsdWRlcyIsInNlY3Rpb25zIiwic3BsaXQiLCJhbHRTZWN0aW9ucyIsInNlY3Rpb24iLCJwdXNoIiwic2VjdGlvblkiLCJtYXJnaW5Cb3R0b20iLCJpIiwidHJpbSIsInNlY3Rpb25QYXJ0cyIsInNlY3Rpb25UaXRsZSIsInNlY3Rpb25Db250ZW50Iiwiam9pbiIsInNldEZvbnQiLCJzcGxpdENvbnRlbnQiLCJjb250ZW50SGVpZ2h0IiwiYXZhaWxhYmxlSGVpZ2h0IiwibGluZXNQZXJQYWdlIiwiTWF0aCIsImZsb29yIiwiZmlyc3RQYWdlTGluZXMiLCJyZW1haW5pbmdMaW5lcyIsImNvbnRlbnRQYXJ0cyIsImNvbnRlbnRZIiwiaiIsInJlZ3VsYXJUZXh0Iiwic3BsaXRSZWd1bGFyIiwiY29kZVRleHQiLCJzcGxpdENvZGUiLCJjb2RlSGVpZ2h0Iiwic2V0RmlsbENvbG9yIiwicmVjdCIsInNwbGl0UmVtZWRpYXRpb24iLCJyZW1lZGlhdGlvbkhlaWdodCIsInBhZ2VDb3VudCIsInNldFBhZ2UiLCJvdXRwdXQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./src/utils/pdfGenerator.ts\n"));

/***/ })

});